<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>DHT22 Realtime Dashboard</title>
</head>
<body>
  <h1>DHT22 Monitoring</h1>
  <p><strong>Suhu:</strong> <span id="temperature">--</span> Â°C</p>
  <p><strong>Kelembaban:</strong> <span id="humidity">--</span> %</p>
  <p><strong>Timestamp:</strong> <span id="timestamp">--</span></p>

  <!-- Firebase compat SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCISduBAOytWLyLxWcXr1YlTjp8szx0VaI",
    authDomain: "coba-coba-f00c3.firebaseapp.com",
    databaseURL: "https://coba-coba-f00c3-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "coba-coba-f00c3",
    storageBucket: "coba-coba-f00c3.appspot.com",
    messagingSenderId: "313016699761",
    appId: "1:313016699761:web:ee8e400f00934198b084d0"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const ref = db.ref("/dht22_monitoring/current");

  ref.on("value", snapshot => {
    const data = snapshot.val();
    document.getElementById("temperature").innerText = data?.temperature ?? "--";
    document.getElementById("humidity").innerText = data?.humidity ?? "--";
    document.getElementById("timestamp").innerText = data?.timestamp ?? "--";
  });
</script>
</body>
</html>
